import{c as q,j as e}from"./index-DMTdQ3St.js";import{C as f}from"./index.esm-DkrFlcfS.js";import{T as $}from"./trash-2-B7Y99Ql6.js";import{f as C}from"./helpers-kgrKKtTT.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=q("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),M=({register:a,control:m,errors:n,fields:t,watchItems:l,selectedCurrency:i,addItem:r,removeItem:o,updateItemAmount:y})=>{const c=i==="USD"?"$":"₹";return e.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Invoice Items"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center px-2 sm:px-3 py-1 border border-transparent text-xs sm:text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Item"]})})]}),e.jsx("div",{className:"block sm:hidden space-y-4",children:t.map((v,s)=>{var j,w,k,F;return e.jsx("div",{className:"border border-gray-200 rounded-md p-3",children:e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),e.jsx("input",{type:"text",className:`block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${(w=(j=n.items)==null?void 0:j[s])!=null&&w.description?"border-red-300":""}`,placeholder:"Item description",...a(`items.${s}.description`,{required:"Description is required"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Quantity"}),e.jsx(f,{name:`items.${s}.quantity`,control:m,render:({field:d})=>{var u,x;return e.jsx("input",{type:"number",min:"0.01",step:"0.01",className:`block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${(x=(u=n.items)==null?void 0:u[s])!=null&&x.quantity?"border-red-300":""}`,value:d.value||"",onChange:b=>{var h,g;const p=b.target.value===""?0:parseFloat(b.target.value);d.onChange(p);const N=parseFloat(((g=(h=l[s])==null?void 0:h.rate)==null?void 0:g.toString())||"0")||0;y(s,p,N)},onBlur:d.onBlur})}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Rate"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c}),e.jsx(f,{name:`items.${s}.rate`,control:m,render:({field:d})=>{var u,x;return e.jsx("input",{type:"number",min:"0",step:"0.01",className:`block w-full pl-8 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${(x=(u=n.items)==null?void 0:u[s])!=null&&x.rate?"border-red-300":""}`,value:d.value||"",onChange:b=>{var h,g;const p=b.target.value===""?0:parseFloat(b.target.value);d.onChange(p);const N=parseFloat(((g=(h=l[s])==null?void 0:h.quantity)==null?void 0:g.toString())||"0")||0;y(s,N,p)},onBlur:d.onBlur})}})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c}),e.jsx("input",{type:"text",readOnly:!0,className:"block w-full pl-8 bg-gray-50 border-gray-300 rounded-md shadow-sm text-gray-500 sm:text-sm cursor-not-allowed",value:(parseFloat(((F=(k=l[s])==null?void 0:k.amount)==null?void 0:F.toString())||"0")||0).toFixed(2),...a(`items.${s}.amount`)})]})]}),e.jsxs("button",{type:"button",onClick:()=>o(s),disabled:t.length<=1,className:"text-red-600 hover:text-red-900 mt-5",children:[e.jsx($,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Remove"})]})]})]})},v.id)})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Description"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/6",children:"Quantity"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/6",children:"Rate"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/6",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((v,s)=>{var j,w,k,F;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"text",className:`block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${(w=(j=n.items)==null?void 0:j[s])!=null&&w.description?"border-red-300":""}`,placeholder:"Item description",...a(`items.${s}.description`,{required:"Description is required"})})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx(f,{name:`items.${s}.quantity`,control:m,render:({field:d})=>{var u,x;return e.jsx("input",{type:"number",min:"0.01",step:"0.01",className:`block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${(x=(u=n.items)==null?void 0:u[s])!=null&&x.quantity?"border-red-300":""}`,value:d.value||"",onChange:b=>{var h,g;const p=b.target.value===""?0:parseFloat(b.target.value);d.onChange(p);const N=parseFloat(((g=(h=l[s])==null?void 0:h.rate)==null?void 0:g.toString())||"0")||0;y(s,p,N)},onBlur:d.onBlur})}})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c}),e.jsx(f,{name:`items.${s}.rate`,control:m,render:({field:d})=>{var u,x;return e.jsx("input",{type:"number",min:"0",step:"0.01",className:`block w-full pl-8 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${(x=(u=n.items)==null?void 0:u[s])!=null&&x.rate?"border-red-300":""}`,value:d.value||"",onChange:b=>{var h,g;const p=b.target.value===""?0:parseFloat(b.target.value);d.onChange(p);const N=parseFloat(((g=(h=l[s])==null?void 0:h.quantity)==null?void 0:g.toString())||"0")||0;y(s,N,p)},onBlur:d.onBlur})}})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c}),e.jsx("input",{type:"text",readOnly:!0,className:"block w-full pl-8 bg-gray-50 border-gray-300 rounded-md shadow-sm text-gray-500 sm:text-sm cursor-not-allowed",value:(parseFloat(((F=(k=l[s])==null?void 0:k.amount)==null?void 0:F.toString())||"0")||0).toFixed(2),...a(`items.${s}.amount`)})]})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsxs("button",{type:"button",onClick:()=>o(s),className:"text-red-600 hover:text-red-900",disabled:t.length<=1,children:[e.jsx($,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Remove"})]})})]},v.id)})})]})})]})},T=({register:a,control:m,watchCurrency:n,updateRetainershipAmount:t})=>{const l=n==="USD"?"$":"₹";return e.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Retainer Details"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"retainer_period",className:"block text-sm font-medium text-gray-700 mb-1",children:"Billing Period"}),e.jsx("input",{type:"text",id:"retainer_period",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., May 2025",...a("retainer_period")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"items.0.rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Retainer Amount"}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-100 px-3 border border-r-0 border-gray-300 rounded-l-md",children:l}),e.jsx(f,{name:"items.0.rate",control:m,render:({field:i})=>e.jsx("input",{type:"number",id:"items.0.rate",className:"block w-full border-gray-300 rounded-r-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",min:"0",step:"0.01",value:i.value||"",onChange:r=>{const o=r.target.value===""?0:parseFloat(r.target.value);i.onChange(o),t(o)},onBlur:r=>{i.onBlur();const o=r.target.value===""?0:parseFloat(r.target.value);t(o)}})})]}),e.jsx("input",{type:"hidden",...a("items.0.quantity"),value:"1"})]}),e.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[e.jsx("label",{htmlFor:"items.0.description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",id:"items.0.description",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",defaultValue:"Monthly Retainer Fee",...a("items.0.description",{required:"Description is required"})})]})]})]})},I=({register:a,control:m,watchCurrency:n,updateProjectAmount:t})=>{const l=n==="USD"?"$":"₹";return e.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Project Details"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"project_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Description"}),e.jsx("textarea",{id:"project_description",rows:2,className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-none",placeholder:"Brief description of the project",...a("project_description")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"items.0.description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Line Item"}),e.jsx("input",{type:"text",id:"items.0.description",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",defaultValue:"Project Fee",...a("items.0.description",{required:"Description is required"})}),e.jsx("input",{type:"hidden",...a("items.0.quantity"),value:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"items.0.rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Fee"}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-100 px-3 border border-r-0 border-gray-300 rounded-l-md",children:l}),e.jsx(f,{name:"items.0.rate",control:m,render:({field:i})=>e.jsx("input",{type:"number",id:"items.0.rate",className:"block w-full border-gray-300 rounded-r-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",min:"0",step:"0.01",value:i.value||"",onChange:r=>{const o=r.target.value===""?0:parseFloat(r.target.value);i.onChange(o),t(o)},onBlur:r=>{i.onBlur();const o=r.target.value===""?0:parseFloat(r.target.value);t(o)}})})]})]})]})]})},L=({register:a,control:m,milestoneFields:n,watchCurrency:t,addMilestone:l,removeMilestone:i,updateMilestoneAmount:r})=>{const o=t==="USD"?"$":"₹";return e.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Milestones"}),e.jsxs("button",{type:"button",onClick:l,className:"inline-flex items-center px-2 sm:px-3 py-1 border border-transparent text-xs sm:text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Milestone"]})]}),e.jsx("div",{className:"space-y-4",children:n.map((y,c)=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3 p-3 sm:p-4 border border-gray-200 rounded-md",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{htmlFor:`milestones.${c}.name`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Name"}),e.jsx("input",{type:"text",id:`milestones.${c}.name`,className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",...a(`milestones.${c}.name`,{required:"Milestone name is required"})})]}),e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx("label",{htmlFor:`milestones.${c}.amount`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-100 px-3 border border-r-0 border-gray-300 rounded-l-md",children:o}),e.jsx(f,{name:`milestones.${c}.amount`,control:m,render:({field:v})=>e.jsx("input",{type:"number",id:`milestones.${c}.amount`,className:"block w-full border-gray-300 rounded-r-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",step:"0.01",min:"0",value:v.value||"",onChange:s=>{const j=s.target.value===""?0:parseFloat(s.target.value);v.onChange(j),r(c,j)},onBlur:v.onBlur})})]})]}),e.jsx("div",{className:"sm:pt-8 mt-2 sm:mt-0 self-center sm:self-start",children:e.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-600 hover:text-red-900",disabled:n.length<=1,"aria-label":"Remove milestone",children:e.jsx($,{className:"h-5 w-5"})})})]},y.id))})]})},P=({register:a,control:m,updateTaxSettings:n})=>{const t=m._formValues.tax_name,l=m._formValues.tax_percentage,i=()=>{n(parseFloat((l==null?void 0:l.toString())||"0")||0,(t==null?void 0:t.toString())||"")};return e.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Tax Settings"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Type"}),e.jsx("input",{type:"text",id:"tax_name",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., GST, TDS, VAT",...a("tax_name"),onChange:r=>{a("tax_name").onChange(r),i()}}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the type of tax applied (leave blank if no tax)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_percentage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate (%)"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx(f,{name:"tax_percentage",control:m,render:({field:r})=>e.jsx("input",{type:"number",id:"tax_percentage",min:"0",max:"100",step:"0.01",className:"block w-full pr-10 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., 18 for 18%",value:r.value===0?"":r.value,onChange:o=>{const y=o.target.value===""?0:parseFloat(o.target.value);r.onChange(y),n(y,(t==null?void 0:t.toString())||"")},onBlur:r.onBlur})}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(S,{className:"h-4 w-4 text-gray-400"})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter the applicable tax rate percentage"})]})]})]})},V=({subtotal:a,tax:m,total:n,selectedCurrency:t,taxPercentage:l,taxName:i})=>e.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex flex-col sm:items-end",children:e.jsxs("div",{className:"sm:w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Subtotal:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:C(a,t)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[i?`${i} (${l||0}%)`:`Tax (${l||0}%)`,":"]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:C(m,t)})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-200 flex justify-between font-medium",children:[e.jsx("span",{className:"text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-blue-600",children:C(n,t)})]})]})})}),A=({register:a})=>e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{id:"notes",rows:3,className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-none",placeholder:"Any additional notes for the client...",...a("notes")})]});export{V as I,L as M,I as P,T as R,M as S,P as T,A as a};
